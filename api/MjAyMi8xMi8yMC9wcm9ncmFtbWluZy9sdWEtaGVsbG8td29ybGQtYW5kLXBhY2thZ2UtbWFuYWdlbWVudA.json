{"title":"Lua Hello World & Package Management","date":"2022-12-19T16:00:00.000Z","date_formatted":{"ll":"Dec 20, 2022","L":"12/20/2022","MM-DD":"12-20"},"link":"2022/12/20/programming/lua-hello-world-and-package-management","tags":["lua","snippet"],"categories":["programming"],"updated":"2022-12-19T16:00:00.000Z","content":"<p>ref: <a href=\"https://www.lua.org/home.html\" target=\"_blank\">https://www.lua.org/home.html</a><br>\nLua is a powerful, efficient, lightweight, embeddable scripting language.<br>\nIt supports procedural programming, object-oriented programming, functional programming, data-driven programming, and data description.</p>\n<span id=\"more\"></span>\n<h2 id=\"installation\">Installation<a title=\"#installation\" href=\"#installation\"></a></h2>\n<h3 id=\"linux,-ubuntu-22.04\">Linux, Ubuntu 22.04<a title=\"#linux,-ubuntu-22.04\" href=\"#linux,-ubuntu-22.04\"></a></h3>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\">$ </span><span class=\"language-bash\">sudo apt install lua5.4 build-essential libreadline-dev liblua5.4-dev -y</span></span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\">#</span><span class=\"language-bash\"><span class=\"comment\">## try lua interactive shell</span></span></span><br><span class=\"line\"><span class=\"meta prompt_\">$ </span><span class=\"language-bash\">lua</span></span><br><span class=\"line\"><span class=\"meta prompt_\">&gt;</span><span class=\"language-bash\"></span></span><br><span class=\"line\"><span class=\"language-bash\"><span class=\"comment\">### quit the interactive shell</span></span></span><br><span class=\"line\"><span class=\"meta prompt_\">&gt; </span><span class=\"language-bash\">os.exit()</span></span><br></pre></td></tr></table></figure>\n<p>ref: <a href=\"https://stackoverflow.com/questions/67063417/lua-5-3-is-installed-but-i-cant-locate-the-correct-lua-h\" target=\"_blank\">https://stackoverflow.com/questions/67063417/lua-5-3-is-installed-but-i-cant-locate-the-correct-lua-h</a></p>\n<h2 id=\"package-management,-luarocks\">Package Management, LuaRocks<a title=\"#package-management,-luarocks\" href=\"#package-management,-luarocks\"></a></h2>\n<p>Link: <a href=\"https://luarocks.org/\" target=\"_blank\">https://luarocks.org/</a></p>\n<p>LuaRocks is the package manager for Lua modules.</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\">$ </span><span class=\"language-bash\"><span class=\"built_in\">mkdir</span> -p luarocks &amp;&amp; <span class=\"built_in\">cd</span> <span class=\"variable\">$_</span></span></span><br><span class=\"line\"><span class=\"meta prompt_\">$ </span><span class=\"language-bash\">wget https://luarocks.org/releases/luarocks-3.9.1.tar.gz</span></span><br><span class=\"line\"><span class=\"meta prompt_\">$ </span><span class=\"language-bash\">tar zxpf luarocks-3.9.1.tar.gz</span></span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\">$ </span><span class=\"language-bash\">./configure &amp;&amp; sudo make &amp;&amp; sudo make install</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"verify\">Verify<a title=\"#verify\" href=\"#verify\"></a></h3>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\">$ </span><span class=\"language-bash\">luarocks --version</span></span><br><span class=\"line\"></span><br><span class=\"line\">/usr/local/bin/luarocks 3.9.1</span><br><span class=\"line\">LuaRocks main command-line interface</span><br></pre></td></tr></table></figure>\n<h3 id=\"system-environment-variables\">System Environment Variables<a title=\"#system-environment-variables\" href=\"#system-environment-variables\"></a></h3>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\">$ </span><span class=\"language-bash\"><span class=\"built_in\">eval</span> <span class=\"string\">&quot;<span class=\"subst\">$(luarocks path)</span>&quot;</span></span></span><br></pre></td></tr></table></figure>\n<p>ref: <a href=\"https://stackoverflow.com/questions/47004243/module-installed-by-luarocks-not-found\" target=\"_blank\">https://stackoverflow.com/questions/47004243/module-installed-by-luarocks-not-found</a></p>\n<h3 id=\"install-package\">Install Package<a title=\"#install-package\" href=\"#install-package\"></a></h3>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\">$ </span><span class=\"language-bash\">luarocks install http --<span class=\"built_in\">local</span></span></span><br></pre></td></tr></table></figure>\n<h4 id=\"faq\">FAQ<a title=\"#faq\" href=\"#faq\"></a></h4>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Error: Failed installing dependency: https://luarocks.org/cqueues-20200726.54-0.src.rock - Could not find header file for CRYPTO</span><br><span class=\"line\">  No file openssl/crypto.h in /usr/local/include</span><br><span class=\"line\">  No file openssl/crypto.h in /usr/include</span><br><span class=\"line\">You may have to install CRYPTO in your system and/or pass CRYPTO_DIR or CRYPTO_INCDIR to the luarocks command.</span><br><span class=\"line\">Example: luarocks install cqueues CRYPTO_DIR=/usr/local</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\">$ </span><span class=\"language-bash\">sudo apt install libssl-dev -y</span></span><br></pre></td></tr></table></figure>\n<p>ref: <a href=\"https://stackoverflow.com/questions/71962737/cant-install-http-module-with-luarocks-on-ubuntu\" target=\"_blank\">https://stackoverflow.com/questions/71962737/cant-install-http-module-with-luarocks-on-ubuntu</a></p>\n<p>Photo by <a href=\"https://unsplash.com/@tsvetoslav\">Tsvetoslav Hristov</a> on <a href=\"https://unsplash.com/s/photos/stopwatch\">Unsplash</a></p>\n","prev":{"title":"IGMP Snooping","link":"2023/01/04/networking/igmp-snooping"},"next":{"title":"Sending TCP Packets with DSCP in Scapy","link":"2022/12/13/programming/python-scapy-dscp"},"plink":"https://jason19970210.github.io/2022/12/20/programming/lua-hello-world-and-package-management/","toc":[{"id":"installation","title":"Installation","index":"1","children":[{"id":"linux,-ubuntu-22.04","title":"Linux, Ubuntu 22.04","index":"1.1"}]},{"id":"package-management,-luarocks","title":"Package Management, LuaRocks","index":"2","children":[{"id":"verify","title":"Verify","index":"2.1"},{"id":"system-environment-variables","title":"System Environment Variables","index":"2.2"},{"id":"install-package","title":"Install Package","index":"2.3"}]}],"reading_time":"277 words in 2 min"}